<div class="container">
  <div class="row col-xl-12">
    <form [formGroup]="formGroup" (ngSubmit)="onSubmit(formGroup)">
      <mat-horizontal-stepper formArrayName="formArray" linear>
        <mat-step formGroupName="0" [stepControl]="formArray.get([0])">

          <ng-template matStepLabel>Tell us your trip</ng-template>
          <div class="form-group moving-route">
            <mat-form-field appearance="fill" style="width:25vw">
              <mat-label>From</mat-label>
              <input #from matInput formControlName="from">
            </mat-form-field>
            <mat-form-field appearance="fill" style="width:25vw">
              <mat-label>To</mat-label>
              <input #to matInput formControlName="to">
            </mat-form-field>
            <button mat-raised-button matStepperNext color="primary" (click)="step1Complete()">Next</button>
          </div>
        </mat-step>
        <mat-step formGroupName="1" [stepControl]="formArray.get([1])">
          <ng-template matStepLabel>Fill out your property type and room</ng-template>
          <div class="row">
            <google-map height="400px"
                        width="100%"
                        [center]="center"
                        [zoom]="zoom">
              <map-directions-renderer *ngIf="(directionsResults$ | async) as directionsResults"
                                       [directions]="directionsResults"></map-directions-renderer>
            </google-map>
          </div>
          <div class="form-group">
            <mat-form-field>
              <mat-label>Property type</mat-label>
              <mat-select formControlName="residentialType">
                <mat-option *ngFor="let property of properties" [value]="property.value">
                  {{property.viewValue}}
                </mat-option>
              </mat-select>
            </mat-form-field>
            <!--          <p> Selected food: {{residentialType}} </p>-->
            <mat-form-field>
              <mat-label>Rooms</mat-label>
              <mat-select formControlName="rooms">
                <mat-option *ngFor="let room of rooms" [value]="room.value">
                  {{room.viewValue}}
                </mat-option>
              </mat-select>
            </mat-form-field>
            <div class="button-row">
              <button mat-raised-button matStepperPrevious color="primary" style="margin-right:10px">Back</button>
              <button mat-raised-button matStepperNext color="primary" (click)="step2Complete()">Next</button>
            </div>
          </div>
        </mat-step>
        <mat-step>
          <ng-template matStepLabel>Your quotation</ng-template>
          <app-service-summary [quotationForm]="formGroup" [toChange]="toChange"></app-service-summary>
        </mat-step>
      </mat-horizontal-stepper>
    </form>

  </div>

</div>
